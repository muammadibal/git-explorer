(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{945:(e,a,s)=>{"use strict";s.d(a,{default:()=>r});var t=s(5155),l=s(8516);function r(e){let{children:a}=e,{toggleTheme:s,theme:r}=(0,l.C)();return(0,t.jsx)("div",{children:a})}},3566:(e,a,s)=>{Promise.resolve().then(s.bind(s,8907)),Promise.resolve().then(s.bind(s,945))},4478:(e,a,s)=>{"use strict";s.d(a,{default:()=>u,q:()=>d});var t=s(5155),l=s(8516),r=s(2556),n=s(8573),i=s(6715),c=s(2115),o=s(5799);let d=new n.E;function u(e){let{children:a}=e,{theme:s}=(0,l.C)();return(0,c.useEffect)(()=>{document.documentElement.setAttribute("data-theme",s)},[s]),(0,t.jsxs)("main",{className:"bg-[#B34B4BFF] min-h-screen",children:[(0,t.jsx)(i.Ht,{client:d,children:(0,t.jsx)(r.Z,{children:a})}),(0,t.jsx)(o.N9,{})]})}},8516:(e,a,s)=>{"use strict";s.d(a,{C:()=>r});var t=s(5453),l=s(6786);let r=(0,t.v)()((0,l.Zr)(e=>({theme:"light",toggleTheme:()=>e(e=>({theme:"light"===e.theme?"dark":"light"}))}),{name:"theme-storage"}))},8907:(e,a,s)=>{"use strict";s.d(a,{default:()=>E});var t=s(5155),l=s(3464);let r=async e=>{var a;let{pageParam:s,limit:t,search:r,signal:n}=e;return console.log("fetchUsers",r),{data:null===(a=(await l.A.get("https://api.github.com/search/users?page=".concat(s,"&per_page=").concat(t,"&q=").concat(r),{signal:n,headers:{Accept:"*/*",withCredentials:!0,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})).data)||void 0===a?void 0:a.items,nextPage:s+1}},n=async e=>{let{search:a,signal:s}=e;return console.log("fetchRepos",a),(await l.A.get("https://api.github.com/users/".concat(a,"/repos"),{signal:s,headers:{Accept:"*/*",withCredentials:!0,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})).data};var i=s(7677);let c=(e,a)=>(0,i.q)({queryKey:["users"],queryFn:s=>{let{pageParam:t,signal:l}=s;return r({pageParam:t,limit:e,search:a,signal:l})},initialPageParam:1,getNextPageParam:(e,a)=>null==e?void 0:e.nextPage,refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1e4,enabled:!1});var o=s(8705),d=s(2856),u=s(1305),h=s(802),m=s(648),g=s(9694),v=s(2115),x=s(6791),p=s(4478),f=s(5813),j=s(5032),A=s(7226),w=s(3501),C=s(8998),b=s(85),y=s(7238),N=s(6467),S=s(9830);function F(e){let{formik:a,item:s,onChange:l}=e,[r,i]=(0,v.useState)(!1),[c,o]=(0,v.useState)([]);return(0,t.jsx)(f.A,{ghost:!0,bordered:!1,items:[{showArrow:!1,key:s.id,onClick:async()=>{if(!a.values.activeColumns.includes(s.id.toString())){i(!0);try{let e=await n({search:s.login});o(e)}catch(e){}i(!1)}},label:(0,t.jsx)(b.A.Ribbon,{className:"",text:s.user_view_type,children:(0,t.jsxs)("div",{className:"!w-full flex flex-row items-center gap-4 shadow-sm rounded-lg p-4",children:[(0,t.jsx)(j.A,{onClick:()=>{},src:(0,t.jsx)("img",{src:s.avatar_url,alt:s.login})}),(0,t.jsx)("div",{className:"flex flex-1",children:s.login})]})}),children:r?(0,t.jsx)(y.A,{align:"center",gap:"middle",children:(0,t.jsx)(N.A,{indicator:(0,t.jsx)(w.A,{spin:!0}),size:"large"})}):(null==c?void 0:c.length)===0?null:null==c?void 0:c.map(e=>(0,t.jsx)(A.A,{className:"mb-4 w-[95%] ml-5",direction:"vertical",size:16,children:(0,t.jsx)(S.A,{className:"shadow-sm",title:e.name,extra:(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,t.jsx)(C.A,{twoToneColor:"#EBAC2FFF"}),(0,t.jsx)(b.A,{children:e.stargazers_count})]}),children:(0,t.jsx)("p",{children:e.description||"No description available."})})},e.id.toString()))}],defaultActiveKey:[],onChange:l})}var _=s(8870),k=s(5799);function E(){var e;let a=(0,g.Wx)({initialValues:{search:"",runSearch:!1,activeColumns:[]},onSubmit(e,a){}}),{data:s,status:l,fetchStatus:r,refetch:n,hasNextPage:i,fetchNextPage:f,isError:j,error:A}=c(20,a.values.search),w=(null==s?void 0:null===(e=s.pages)||void 0===e?void 0:e.flatMap(e=>null==e?void 0:e.data))||[];(0,v.useEffect)(()=>{a.values.runSearch&&0===a.values.search.length&&(p.q.resetQueries({queryKey:["users"],exact:!0}),a.setFieldValue("runSearch",!1)),a.values.runSearch&&a.values.search.length>0&&n()},[a]),(0,v.useEffect)(()=>{j&&k.oR.error(null==A?void 0:A.message)},[j]);let C=e=>a.setFieldValue("activeColumns",e);return(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsxs)(o.A,{onFinish:()=>{a.setFieldValue("runSearch",!0)},className:"w-[40%] shadow-xl !p-2 rounded-lg bg-white",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(d.A,{prefix:(0,t.jsx)(_.A,{style:{color:"rgba(0,0,0,.25)"}}),allowClear:!0,value:a.values.search,onChange:e=>a.setFieldValue("search",e.target.value),placeholder:"Enter username"}),(0,t.jsx)(u.Ay,{type:"primary",variant:"filled",onClick:()=>{a.setFieldValue("runSearch",!0)},children:"Search"})]}),a.values.runSearch&&w.length>0&&(0,t.jsxs)("div",{children:['Showing users for "',a.values.search,'"']}),"fetching"===r?[,,,,,].fill("").map(e=>(0,t.jsx)("div",{className:"mx-4 mt-4 mb-2",children:(0,t.jsx)(h.A,{avatar:!0,paragraph:{rows:1},active:!0})})):(0,t.jsx)(x.A,{dataLength:w.length,next:f,hasMore:i,loader:(0,t.jsx)(h.A,{className:"mx-4",avatar:!0,paragraph:{rows:1},active:!0}),scrollableTarget:"scrollableDiv",children:(0,t.jsx)(m.A,{dataSource:w,renderItem:e=>(0,t.jsx)(F,{formik:a,onChange:C,item:e})})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[318,478,441,684,358],()=>a(3566)),_N_E=e.O()}]);