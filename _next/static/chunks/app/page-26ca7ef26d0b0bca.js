(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{945:(e,a,s)=>{"use strict";s.d(a,{default:()=>r});var l=s(5155),t=s(8516);function r(e){let{children:a}=e,{toggleTheme:s,theme:r}=(0,t.C)();return(0,l.jsx)("div",{children:a})}},3566:(e,a,s)=>{Promise.resolve().then(s.bind(s,8907)),Promise.resolve().then(s.bind(s,945))},4478:(e,a,s)=>{"use strict";s.d(a,{default:()=>d,q:()=>u});var l=s(5155),t=s(8516),r=s(2556),i=s(8573),n=s(6715),c=s(2115),o=s(5799);let u=new i.E;function d(e){let{children:a}=e,{theme:s}=(0,t.C)();return(0,c.useEffect)(()=>{document.documentElement.setAttribute("data-theme",s)},[s]),(0,l.jsxs)("main",{className:"bg-[#B34B4BFF] min-h-screen",children:[(0,l.jsx)(n.Ht,{client:u,children:(0,l.jsx)(r.Z,{children:a})}),(0,l.jsx)(o.N9,{})]})}},8516:(e,a,s)=>{"use strict";s.d(a,{C:()=>r});var l=s(5453),t=s(6786);let r=(0,l.v)()((0,t.Zr)(e=>({theme:"light",toggleTheme:()=>e(e=>({theme:"light"===e.theme?"dark":"light"}))}),{name:"theme-storage"}))},8907:(e,a,s)=>{"use strict";s.d(a,{default:()=>E});var l=s(5155),t=s(3464);let r=async e=>{var a;let{pageParam:s,limit:l,search:r,signal:i}=e;return console.log("fetchUsers",r),{data:null===(a=(await t.A.get("https://api.github.com/search/users?page=".concat(s,"&per_page=").concat(l,"&q=").concat(r),{signal:i})).data)||void 0===a?void 0:a.items,nextPage:s+1}},i=async e=>{let{search:a,signal:s}=e;return console.log("fetchRepos",a),(await t.A.get("https://api.github.com/users/".concat(a,"/repos"),{signal:s})).data};var n=s(7677);let c=(e,a)=>(0,n.q)({queryKey:["users"],queryFn:s=>{let{pageParam:l,signal:t}=s;return r({pageParam:l,limit:e,search:a,signal:t})},initialPageParam:1,getNextPageParam:(e,a)=>null==e?void 0:e.nextPage,refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1e4,enabled:!1});var o=s(8705),u=s(2856),d=s(1305),h=s(802),m=s(648),v=s(9694),g=s(2115),x=s(6791),f=s(4478),p=s(5813),j=s(5032),w=s(7226),A=s(3501),b=s(8998),y=s(85),N=s(7238),C=s(6467),S=s(9830);function F(e){let{formik:a,item:s,onChange:t}=e,[r,n]=(0,g.useState)(!1),[c,o]=(0,g.useState)([]);return(0,l.jsx)(p.A,{ghost:!0,bordered:!1,items:[{showArrow:!1,key:s.id,onClick:async()=>{if(!a.values.activeColumns.includes(s.id.toString())){n(!0);try{let e=await i({search:s.login});o(e)}catch(e){}n(!1)}},label:(0,l.jsx)(y.A.Ribbon,{className:"",text:s.user_view_type,children:(0,l.jsxs)("div",{className:"!w-full flex flex-row items-center gap-4 shadow-sm rounded-lg p-4",children:[(0,l.jsx)(j.A,{onClick:()=>{},src:(0,l.jsx)("img",{src:s.avatar_url,alt:s.login})}),(0,l.jsx)("div",{className:"flex flex-1",children:s.login})]})}),children:r?(0,l.jsx)(N.A,{align:"center",gap:"middle",children:(0,l.jsx)(C.A,{indicator:(0,l.jsx)(A.A,{spin:!0}),size:"large"})}):(null==c?void 0:c.length)===0?null:null==c?void 0:c.map(e=>(0,l.jsx)(w.A,{className:"mb-4 w-[95%] ml-5",direction:"vertical",size:16,children:(0,l.jsx)(S.A,{className:"shadow-sm",title:e.name,extra:(0,l.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,l.jsx)(b.A,{twoToneColor:"#EBAC2FFF"}),(0,l.jsx)(y.A,{children:e.stargazers_count})]}),children:(0,l.jsx)("p",{children:e.description||"No description available."})})},e.id.toString()))}],defaultActiveKey:[],onChange:t})}var _=s(8870),k=s(5799);function E(){var e;let a=(0,v.Wx)({initialValues:{search:"",runSearch:!1,activeColumns:[]},onSubmit(e,a){}}),{data:s,status:t,fetchStatus:r,refetch:i,hasNextPage:n,fetchNextPage:p,isError:j,error:w}=c(20,a.values.search),A=(null==s?void 0:null===(e=s.pages)||void 0===e?void 0:e.flatMap(e=>null==e?void 0:e.data))||[];(0,g.useEffect)(()=>{a.values.runSearch&&0===a.values.search.length&&(f.q.resetQueries({queryKey:["users"],exact:!0}),a.setFieldValue("runSearch",!1)),a.values.runSearch&&a.values.search.length>0&&i()},[a]),(0,g.useEffect)(()=>{j&&k.oR.error(null==w?void 0:w.message)},[j]);let b=e=>a.setFieldValue("activeColumns",e);return(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsxs)(o.A,{onFinish:()=>{a.setFieldValue("runSearch",!0)},className:"w-[40%] shadow-xl !p-2 rounded-lg bg-white",children:[(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(u.A,{prefix:(0,l.jsx)(_.A,{style:{color:"rgba(0,0,0,.25)"}}),allowClear:!0,value:a.values.search,onChange:e=>a.setFieldValue("search",e.target.value),placeholder:"Enter username"}),(0,l.jsx)(d.Ay,{type:"primary",variant:"filled",onClick:()=>{a.setFieldValue("runSearch",!0)},children:"Search"})]}),a.values.runSearch&&A.length>0&&(0,l.jsxs)("div",{children:['Showing users for "',a.values.search,'"']}),"fetching"===r?[,,,,,].fill("").map(e=>(0,l.jsx)("div",{className:"mx-4 mt-4 mb-2",children:(0,l.jsx)(h.A,{avatar:!0,paragraph:{rows:1},active:!0})})):(0,l.jsx)(x.A,{dataLength:A.length,next:p,hasMore:n,loader:(0,l.jsx)(h.A,{className:"mx-4",avatar:!0,paragraph:{rows:1},active:!0}),scrollableTarget:"scrollableDiv",children:(0,l.jsx)(m.A,{dataSource:A,renderItem:e=>(0,l.jsx)(F,{formik:a,onChange:b,item:e})})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[318,478,441,684,358],()=>a(3566)),_N_E=e.O()}]);